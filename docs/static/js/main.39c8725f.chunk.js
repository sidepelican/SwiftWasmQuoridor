(this["webpackJsonpquoridor-web"]=this["webpackJsonpquoridor-web"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(21),a=n.n(i),s=(n(30),n(31),n(7)),o=n(4),l=(n(32),n(3)),u=n.n(l),j=n(6),b=n(10),f=n(22),d=n(23),x=n(24),p=n.n(x),O=n(25),h=n(0),v=new O.a,m=new f.a({args:[],env:{},bindings:Object(b.a)(Object(b.a)({},p.a),{},{fs:v.fs})}),y=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,c,r,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./WasmLib.wasm");case 2:return t=e.sent,e.next=5,t.arrayBuffer();case 5:return n=e.sent,c=new Uint8Array(n),e.next=9,Object(d.a)(c);case 9:return r=e.sent,e.next=12,WebAssembly.compile(r);case 12:return i=e.sent,e.next=15,WebAssembly.instantiate(i,Object(b.a)({},m.getImports(i)));case 15:return a=e.sent,m.start(a),e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=r.a.createContext({hello:function(){},add:function(){return 0},newGame:function(){return!1},putFence:function(){return!1},movePawn:function(){return!1},canPutFence:function(){return!1},canMove:function(){return!1},aiNext:function(){return!1},existsFence:function(){return!1},playerPosition:function(){return 0},isWin:function(){return!1},isInTurn:function(){return!1},remainingFences:function(){return 0}}),g=function(e){var t=Object(c.useState)(),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){y().then(i)}),[]),null==r?Object(h.jsx)(h.Fragment,{children:e.children}):Object(h.jsx)(w.Provider,{value:r.exports,children:e.children})},P=Object(o.a)(Array(8)).flatMap((function(e,t){var n=t+1;return Object(o.a)(Array(8)).flatMap((function(e,t){var c=t+1;return[{x:n,y:c,o:"horizontal"},{x:n,y:c,o:"vertical"}]}))})),k=function(e){var t=Object(c.useContext)(w),n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],a=r[1];Object(c.useEffect)((function(){a(t.newGame())}),[t]);var l=Object(c.useState)(0),u=Object(s.a)(l,2)[1],j=function(){u((function(e){return e+1}))},b=!!i&&t.isInTurn(!1);if(Object(c.useEffect)((function(){b&&setTimeout((function(){t.aiNext(),u((function(e){return e+1}))}),50)}),[b,t]),!i)return Object(h.jsxs)("p",{children:["Loading ",Object(h.jsx)("code",{children:".wasm"})," binary ..."]});var f=t.playerPosition(!1),d=t.playerPosition(!0),x=t.remainingFences(!1),p=t.remainingFences(!0),O=t.isWin(!1),v=t.isWin(!0);return Object(h.jsxs)("div",{style:{position:"relative",width:"480px",height:"580px",background:"gray"},children:[Object(h.jsx)("div",{style:{display:"flex",flexDirection:"column",marginTop:"65px",marginLeft:"15px"},children:Object(o.a)(Array(9)).map((function(e,n){return Object(h.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(o.a)(Array(9)).map((function(e,c){var r=t.canMove(c,n),i=void 0;return r&&(i=function(){t.movePawn(c,n),j()}),Object(h.jsx)(A,{canMove:r,onClick:i},c)}))},n)}))}),Object(h.jsxs)("div",{children:[Object(h.jsx)(F,{isPlayer:!1,top:f%100*50+65,left:50*Math.floor(f/100)+15}),Object(h.jsx)(F,{isPlayer:!0,top:d%100*50+65,left:50*Math.floor(d/100)+15})]}),Object(h.jsx)("div",{children:P.map((function(e){var n,c,r=e.x,i=e.y,a=e.o,s=t.existsFence(r,i,"vertical"===a?1:0),o=t.canPutFence(r,i,"vertical"===a?1:0);switch(a){case"horizontal":c=50*(r-1),n=50*i;break;case"vertical":c=50*r-10,n=50*(i-1)+10}n+=60,c+=20;var l=void 0;return o&&(l=function(){t.putFence(r,i,"vertical"===a?1:0),j()}),Object(h.jsx)(M,{orientation:a,canPlace:o,placed:s,top:n,left:c,onClick:l},"".concat(r,"_").concat(i,"_").concat(a))}))}),Object(h.jsxs)("div",{children:[Object(o.a)(Array(x)).map((function(e,t){return Object(h.jsx)(N,{top:10,left:15*t+10},t)})),Object(o.a)(Array(p)).map((function(e,t){return Object(h.jsx)(N,{top:540,left:15*t+10},t)}))]}),Object(h.jsx)("div",{style:{position:"absolute",top:0,right:0},children:b?Object(h.jsx)("p",{children:"AI thinking..."}):null}),Object(h.jsxs)("div",{style:{position:"absolute",bottom:0,right:0},children:[v?Object(h.jsx)("p",{children:"You Win"}):null,O?Object(h.jsx)("p",{children:"You Lose"}):null]})]})},A=function(e){return Object(h.jsx)("div",{className:"TileView"+(e.canMove?" canMove":""),onClick:e.onClick})},F=function(e){return Object(h.jsx)("div",{className:"PawnView"+(e.isPlayer?" isPlayer":""),style:{position:"absolute",top:e.top,left:e.left}})},M=function(e){return Object(h.jsx)("div",{className:"FenceView ".concat(e.orientation)+(e.canPlace?" canPlace":"")+(e.placed?" placed":""),style:{position:"absolute",top:e.top,left:e.left},onClick:e.onClick})},N=function(e){return Object(h.jsx)("div",{className:"MiniFenceView",style:{position:"absolute",top:e.top,left:e.left}})},S=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h1",{style:{padding:"1.5rem"},children:Object(h.jsx)("code",{children:"Swift Quoridor!"})}),Object(h.jsx)(k,{}),Object(h.jsxs)("div",{className:"Description",children:[Object(h.jsx)("h2",{children:"\u3053\u308c\u306f\u4f55\uff1f"}),Object(h.jsx)("p",{children:"Swift\u3067\u4f5c\u3063\u305f\u30b3\u30ea\u30c9\u30fc\u30eb\u306e\u30b2\u30fc\u30e0\u30a8\u30f3\u30b8\u30f3\u3092Wasm\u30d3\u30eb\u30c9\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u3067\u52d5\u304f\u3088\u3046\u306b\u3057\u305f\u3082\u306e\u3067\u3059\u3002"}),Object(h.jsx)("p",{children:"Swift\u3067\u306f\u30b2\u30fc\u30e0\u30a8\u30f3\u30b8\u30f3\u90e8\u5206\u3068AI\u304c\u52d5\u3044\u3066\u307e\u3059\u3002UI\u306fJS\u3067\u3059\u3002 \uff08\u9014\u4e2d\u307e\u3067UI\u3082Swift\u3067\u4f5c\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u8272\u3005\u3068\u8ab2\u984c\u304c\u3042\u308a\u8ae6\u3081\u3066React\u306b\u3057\u307e\u3057\u305f\u3002\uff09"}),Object(h.jsx)("h2",{children:"Quoridor\uff08\u30b3\u30ea\u30c9\u30fc\u30eb\uff09"}),Object(h.jsx)("p",{children:"\u30bf\u30fc\u30f3\u5236\u306e\u30dc\u30fc\u30c9\u30b2\u30fc\u30e0\u3067\u3001\u81ea\u5206\u306e\u30b3\u30de\u3092\u76f8\u624b\u306e\u9663\u5730\uff08\u4e00\u756a\u4e0a\u307e\u305f\u306f\u4e00\u756a\u4e0b\u306e\u884c\uff09\u306b\u5230\u9054\u3055\u305b\u308b\u3068\u52dd\u5229\u3067\u3059\u3002 \u30bf\u30fc\u30f3\u30d7\u30ec\u30a4\u30e4\u30fc\u306f\u4ee5\u4e0b\u306e\u3069\u3061\u3089\u304b\u3092\u884c\u3048\u307e\u3059\u3002"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"\u30b3\u30de\u3092\u524d\u5f8c\u5de6\u53f31\u30de\u30b9\u306b\u52d5\u304b\u3059\u3002\u79fb\u52d5\u5148\u306b\u76f8\u624b\u306e\u30b3\u30de\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u98db\u3073\u8d8a\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002"}),Object(h.jsx)("li",{children:"\u677f\u30921\u679a\u8a2d\u7f6e\u3059\u308b\u3002\u677f\u306f\u30b3\u30de\u306e\u901a\u884c\u3092\u59a8\u5bb3\u3059\u308b\u3002\u30b3\u30de\u304c\u30b4\u30fc\u30eb\u3067\u304d\u306a\u304f\u306a\u308b\u3088\u3046\u306b\u677f\u3092\u8a2d\u7f6e\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002"})]}),Object(h.jsx)("hr",{style:{marginTop:"3rem"}}),Object(h.jsxs)("div",{style:{textAlign:"end"},children:["Twitter:",Object(h.jsx)("a",{className:"TwitterLink",href:"https://twitter.com/iceman5499",target:"_blank",rel:"noopener noreferrer",children:"@iceman5499"})]})]})]})};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(g,{children:Object(h.jsx)(S,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.39c8725f.chunk.js.map